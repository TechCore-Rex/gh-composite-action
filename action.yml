name: "TechCore Action"
description: "Deploy your application to the TechCore platform"
inputs:
  techcore-api-key: # id of input
    description: "API Key from the TechCore Platform"
    required: true
  environment: # id of input
    description: "The TechCore Environment you want to target"
    required: true
  image-repo-name: # id of input
    description: "ECR Repository to use"
    required: true
runs:
  using: "composite"
  steps:
    - name: Build tag and push docker image.
      uses: docker://ghcr.io/kciter/aws-ecr-action:latest
    - name: Build tag and push docker image.
      uses: docker://ghcr.io/kciter/aws-ecr-action:latest
      with:
        access_key_id: "x"
        secret_access_key: "x"
        account_id: "x"
        repo: ${{ inputs.image-repo-name }}
        region: us-east-1
        tags: latest,${{ github.sha }}
        create_repo: true
